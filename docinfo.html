<!-- Make TOC collapsible -->

<style>
  #toc.toc2 ul ul {
    padding-left: 1.5em;
  }
  #toc.toc2 ul {
    display: none;
  }
  #toc.toc2 .sectlevel1 {
    display: block;
  }
  #toc.toc2 ul > li > input[type=checkbox] {
    display: inline-block;
    appearance: none;
    cursor: pointer;
    width: 0.6em;
    text-align: center;
  }
  #toc.toc2 ul > li > input[type=checkbox]::before {
    content: '+';
  }
  #toc.toc2 ul > li > input[type=checkbox]:checked::before {
    content: '-';
  }
  #toc.toc2 ul > li > input[type=checkbox]:checked ~ ul {
    display: block;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  Array.from(document.querySelectorAll('#toc.toc2 ul > li > a')).forEach((link) => {
    if (link.parentNode.getElementsByTagName('ul').length === 0) return;

    var btn = document.createElement('input');
    btn.type = 'checkbox';
    link.parentNode.insertBefore(btn, link);

    var space = document.createTextNode(' ');
    link.parentNode.insertBefore(space, link);

    link.addEventListener('click', function() {
      btn.checked = true;
    });
  });
});
</script>
